<?xml version="1.0"?>
<config>
	<modules>
		<Compunnel_Prediction>
			<version>1.0.0.4</version>
		</Compunnel_Prediction>
	</modules>
	<global>
		<helpers>
			<prediction>
				<class>Compunnel_Prediction_Helper</class>
			</prediction>
		</helpers>
		<blocks>
			<prediction>
				<class>Compunnel_Prediction_Block</class>
			</prediction>
		</blocks>
        <models>
            <prediction>
                <class>Compunnel_Prediction_Model</class>
                <resourceModel>prediction_resource</resourceModel>
            </prediction>
            <prediction_resource>
                <class>Compunnel_Prediction_Model_Resource</class>
                <entities>
                    <visitor>
                        <table>prediction_visitor</table>
                    </visitor>
                    <blacklist_rule>
                        <table>prediction_blacklist_rule</table>
                    </blacklist_rule>
                    <blacklist_customer_group>
                        <table>prediction_blacklist_customer_group</table>
                    </blacklist_customer_group>
                    <blacklist_store>
                        <table>prediction_blacklist_store</table>
                    </blacklist_store>
                    <blacklist_rule_product>
                        <table>prediction_blacklist_rule_product</table>
                    </blacklist_rule_product>
                    <whitelist_rule>
                        <table>prediction_whitelist_rule</table>
                    </whitelist_rule>
                    <whitelist_rule_product>
                        <table>prediction_whitelist_rule_product</table>
                    </whitelist_rule_product>
                </entities>
            </prediction_resource>
        </models>
        <resources>
            <prediction_setup>
                <setup>
                    <module>Compunnel_Prediction</module>
                </setup>
            </prediction_setup>
        </resources>
	</global>
	<frontend>
		<layout>
			<updates>
				<prediction>
					<file>compunnel/prediction.xml</file>
				</prediction>
			</updates>
		</layout>
		<routers>
			<prediction>
				<use>standard</use>
				<args>
					<module>Compunnel_Prediction</module>
					<frontName>prediction</frontName>
				</args>
			</prediction>
		</routers>
        <events>
            <controller_action_predispatch>
                <observers>
                    <prediction_controller_action_predispatch_handler>
                        <class>prediction/visitor</class>
                        <method>initByRequest</method>
                    </prediction_controller_action_predispatch_handler>
                </observers>
            </controller_action_predispatch>
            <controller_action_postdispatch>
                <observers>
                    <prediction_controller_action_postdispatch_handler>
                        <class>prediction/visitor</class>
                        <method>saveByRequest</method>
                    </prediction_controller_action_postdispatch_handler>
                </observers>
            </controller_action_postdispatch>
            <checkout_cart_add_product_complete>
                <observers>
                    <prediction_checkout_cart_add_product_complete_handler>
                        <class>prediction/observer</class>
                        <method>recordAddToCart</method>
                    </prediction_checkout_cart_add_product_complete_handler>
                </observers>
            </checkout_cart_add_product_complete>
        </events>
	</frontend>
    <admin>
        <routers>
            <adminhtml>
                <use>admin</use>
                <args>
                    <modules>
                        <Compunnel_Prediction before="Mage_Adminhtml">Compunnel_Prediction_Adminhtml</Compunnel_Prediction>
                    </modules>
                </args>
            </adminhtml>
        </routers>
    </admin>
    <adminhtml>
        <layout>
            <updates>
                <prediction>
                    <file>compunnel/prediction.xml</file>
                </prediction>
            </updates>
        </layout>
    </adminhtml>
    <default>
        <prediction>
            <general>
                <new_user_lifetime>14400</new_user_lifetime>
            </general>
        </prediction>
    </default>
</config>
